<div ng-show="!main.currentUser()" id="logintitle" class="centertext">KANBAN</div>

<canvas id="bar" class="chart chart-bar"
  chart-data="data" chart-labels="labels" chart-series="series" chart-colours="green">
</canvas>
<br>
<br>
<p ng-show="main.currentUser()" ng-if="home.goals.length === 0">No goals yet.</p>

<div ng-if="home.goals.length > 0">
	<div ng-repeat="goal in home.goals">
		<div class="allgoals" ng-hide="goal.displayEditForm">
			<a ng-href="/goals/{{goal._id}}">{{goal.title}}</a>
			 - {{goal.goalDate | date: 'MMMM dd, yyyy'}} <button ng-click="home.deleteGoal(goal)">Delete</button> <button ng-click="goal.displayEditForm = true">Edit</button></p>
		 </div>

		<form ng-show="goal.displayEditForm" ng-submit="home.updateGoal(goal)">
			<h3>Edit Goal</h3>
	     <div class="form-group">
	       <input type="text" ng-model="goal.title" class="form-control" placeholder="Title">
	       <input type="date" ng-model="goal.goalDate" class="form-control" placeholder="Goal Date">
	     </div>

	     <input type="submit" value="Save Goal" class="btn btn-default"  ng-click="goal.displayEditForm = false"><br><br>
	   </form>
	</div>
</div>


<div ng-show="main.currentUser()">
	<br>
	<h4>Add New Goal</h4>
	<hr>
	<form ng-show="main.currentUser()" ng-submit="home.createGoal()">
		<div class="form-group">
			<label for="goal-title">Title</label>
			<input type="text" class="form-control" ng-model="home.new_goal.title" id="goal-title" placeholder="Title">
		</div>
		<div class="form-group">
			<label for="goal-goalDate">Goal Date</label>
			<input type="date" class="form-control" ng-model="home.new_goal.goalDate" id="goal-goalDate" placeholder="Goal Date">
		</div>
		<input type="submit" value="Add Goal" class="btn btn-default">
	</form>
</div>


